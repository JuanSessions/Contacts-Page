(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){},21:function(e,t,a){e.exports=a(32)},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),o=a(2),s=(a(13),a(5)),u=a(7),i=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch("https://google-books.p.rapidapi.com/volumes",{method:"GET",headers:{"x-rapidapi-host":"google-books.p.rapidapi.com","x-rapidapi-key":"0b9293b7c9mshce13606d976dadap1ffc37jsn3bd5bec95c01"}}).then((function(e){return e.json()})).then((function(e){console.log(e),l(e.items)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{className:"library-div"},r.a.createElement("h1",null,"- Home Page -"),r.a.createElement("div",{className:"library-items"},a&&a.map((function(e){return r.a.createElement("div",{className:"library-item"},r.a.createElement("img",{src:e.volumeInfo.imageLinks.thumbnail,alt:"a"}),r.a.createElement("p",null,e.volumeInfo.authors))}))))},m=a(9),p=a.n(m),d=a(11);function h(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(null),i=Object(o.a)(s,2),m=i[0],h=i[1],E=function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r,c,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={email:l,password:m},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},t.next=5,fetch("http://localhost:3001/contacts/login",r);case 5:return c=t.sent,t.next=8,c.json();case 8:o=t.sent,console.log("data response:",o),o.success?(e.setLogIn(!0),console.log("login")):alert("wrong login data"),console.log(c.headers.get("x-auth"));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"login-container"},e.LogIn?r.a.createElement(u.a,{to:"/"}):r.a.createElement("div",{className:"form-container"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:E},r.a.createElement("input",{type:"text",name:"email",placeholder:"Enter Email",onChange:function(e){return c(e.target.value)},required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",onChange:function(e){return h(e.target.value)},required:!0}),r.a.createElement("button",{type:"submit",className:"btn-submit"},"Login"))))}function E(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),s=Object(o.a)(c,2),u=s[0],i=s[1],m=Object(n.useState)(null),h=Object(o.a)(m,2),E=h[0],f=h[1],b=Object(n.useState)(null),g=Object(o.a)(b,2),v=g[0],j=g[1],O=Object(n.useState)(null),N=Object(o.a)(O,2),y=N[0],w=N[1],S=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={firstName:E,lastName:v,email:a,password:u,role:y},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch("http://localhost:3001/contacts",r);case 5:return l=e.sent,e.next=8,l.json();case 8:c=e.sent,console.log("data response:",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"user-regist-form form-container"},r.a.createElement("div",{className:"form-wrap"},r.a.createElement("form",{onSubmit:S},r.a.createElement("h1",null,"Sign Up!"),r.a.createElement("input",{type:"text",placeholder:"First Name",onChange:function(e){return f(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"Last Name",onChange:function(e){return j(e.target.value)}}),r.a.createElement("input",{type:"email",placeholder:"Email",onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(e){return i(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Confirm Password",onChange:function(e){return i(e.target.value)}}),r.a.createElement("input",{type:"role",placeholder:"User/Admin",onChange:function(e){return w(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"btn-submit"},"Sign Up"))))}var f=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Orders"),r.a.createElement("p",null," Previous orders and current order of the user "))};var b=function(){return r.a.createElement("div",null,"sorry, the page is not found.")};var g=function(e){console.log("props:",e);var t=Object(n.useState)(null),a=Object(o.a)(t,2),l=(a[0],a[1],Object(n.useState)(null)),c=Object(o.a)(l,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){fetch("http://localhost:3001/contacts").then((function(e){return e.json()})).then((function(e){u(e.contact)}))}),[]),console.log("user data:",s),r.a.createElement("div",null,r.a.createElement("h1",null,"User Personal Info"),r.a.createElement("h3",null,"Items purchased and history"),s&&s.map((function(e,t){return r.a.createElement("div",null,r.a.createElement("h3",null,e.firstName," "))})))};var v=function(e){var t=e.logIn,a=e.setLogIn;return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:i}),r.a.createElement(u.b,{path:"/register",component:E}),r.a.createElement(u.b,{path:"/orders",component:f}),r.a.createElement(u.b,{path:"/login",render:function(e){return r.a.createElement(h,Object.assign({},e,{logIn:t,setLogIn:a}))}}),r.a.createElement(u.b,{path:"/contact",render:function(e){return r.a.createElement(g,Object.assign({},e,{logIn:t,setLogIn:a}))}}),r.a.createElement(u.b,{component:b}))};var j=function(){return r.a.createElement("nav",null,r.a.createElement("ul",{className:"section"},r.a.createElement("li",null,r.a.createElement(s.b,{to:"/",exact:!0,activeClassName:"active",className:"ai-element__label"},r.a.createElement("button",null," Home"))),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login",exact:!0,activeClassName:"active",className:"ai-element__label"},r.a.createElement("button",null,"Login"))),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/register",exact:!0,activeClassName:"active",className:"ai-element__label"},r.a.createElement("button",null,"Register")))))},O=function(){return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav1"},r.a.createElement("li",null,r.a.createElement(s.b,{to:"/contact",activeClassName:"active",className:"ai-element__label"},"User Account Info")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/orders",activeClassName:"active",className:"ai-element__label"},"Books Orders"))))};var N=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1];return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement(j,null),a&&r.a.createElement(O,null),r.a.createElement(v,{logIn:a,setLogIn:l})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.e1af5aa8.chunk.js.map